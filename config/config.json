{
  "mt5": {
    "login": 0,
    "password": "",
    "server": "",
    "timeout": 60000,
    "path": "",
    "_comment": "MT5 credentials loaded from .env file for security"
  },
  "trading": {
    "symbols": [
      "AUDCAD",
      "AUDCHF",
      "AUDJPY",
      "AUDNZD",
      "AUDUSD",
      "CADCHF",
      "CADJPY",
      "CHFJPY",
      "EURAUD",
      "EURCAD",
      "EURCHF",
      "EURGBP",
      "EURJPY",
      "EURNZD",
      "EURUSD",
      "GBPAUD",
      "GBPCAD",
      "GBPCHF",
      "GBPJPY",
      "GBPNZD",
      "GBPUSD",
      "NZDCAD",
      "NZDCHF",
      "NZDJPY",
      "NZDUSD",
      "USDCAD",
      "USDCHF",
      "USDJPY",
      "XAGUSD",
      "XAUUSD"
    ],
    "risk_per_trade": 50.0,
    "risk_type": "fixed_dollar",
    "default_sl_pips": 20,
    "default_tp_pips": 40,
    "max_positions": 30,
    "max_spread": 3.0,
    "min_lot_size": 0.01,
    "max_lot_size": 1.0,
    "max_daily_loss": 500.0,
    "enable_news_filter": true,
    "enable_session_filter": true,
    "day_trading_only": true,
    "close_before_weekend": true,
    "close_on_shutdown": true,
    "prevent_multiple_positions_per_symbol": true,
    "close_hour": 22,
    "close_minute": 30,
    "_comment_rules": "===== TRADING RULES - ALL RULES IN ONE PLACE ====="
  },
  "trading_rules": {
    "_description": "Consolidated trading rules for easy management",
    "position_limits": {
      "max_positions": 30,
      "max_positions_per_symbol": 1,
      "prevent_multiple_positions_per_symbol": true,
      "max_trades_per_symbol_per_day": 1,
      "_comment": "One trade per symbol per day rule enforced by RiskManager"
    },
    "time_restrictions": {
      "day_trading_only": true,
      "close_hour": 22,
      "close_minute": 30,
      "close_before_weekend": true,
      "close_on_shutdown": true,
      "_comment": "All positions closed at 22:30 MT5 server time"
    },
    "risk_limits": {
      "risk_per_trade": 50.0,
      "risk_type": "fixed_dollar",
      "max_daily_loss": 500.0,
      "max_consecutive_losses": 3,
      "pause_after_losses": true,
      "max_daily_trades": 10,
      "_comment": "Fixed $50 risk per trade, max $500 daily loss"
    },
    "position_sizing": {
      "min_lot_size": 0.01,
      "max_lot_size": 1.0,
      "risk_calculation_method": "pip_based",
      "margin_safety_factor": 0.95,
      "_comment": "Position size calculated to risk exactly $50 per trade"
    },
    "entry_rules": {
      "min_signal_strength": 0.4,
      "max_spread": 3.0,
      "min_risk_reward_ratio": 2.0,
      "require_ml_confirmation": true,
      "require_technical_confirmation": true,
      "_comment": "Signal must be >0.4 strength, spread <3 pips, RR >2:1"
    },
    "stop_loss_rules": {
      "method": "atr_based",
      "sl_atr_multiplier_forex": 3.0,
      "sl_atr_multiplier_metals": 2.5,
      "default_sl_pips": 20,
      "max_sl_pips": 50,
      "sl_adjustment_sentiment": true,
      "sl_adjustment_fundamental": true,
      "_comment": "SL calculated from ATR, adjusted by sentiment/fundamentals"
    },
    "take_profit_rules": {
      "method": "atr_based",
      "tp_atr_multiplier_forex": 6.0,
      "tp_atr_multiplier_metals": 5.0,
      "default_tp_pips": 40,
      "tp_adjustment_sentiment": true,
      "tp_adjustment_fundamental": true,
      "_comment": "TP calculated from ATR, adjusted by sentiment/fundamentals"
    },
    "exit_rules": {
      "trailing_stop_enabled": true,
      "trailing_activation_pips": 20,
      "trailing_distance_pips": 15,
      "breakeven_enabled": true,
      "breakeven_activation_pips": 15,
      "_comment": "Trailing stop activates at 20 pips profit, BE at 15 pips"
    },
    "cooldown_rules": {
      "symbol_cooldown_minutes": 5,
      "cooldown_after_loss": true,
      "_comment": "5-minute cooldown per symbol after closing a position"
    },
    "news_filter": {
      "enabled": true,
      "avoid_high_impact_news": true,
      "news_buffer_minutes": 60,
      "_comment": "Avoid trading 60 minutes before/after high-impact news"
    },
    "session_filter": {
      "enabled": true,
      "preferred_sessions": ["london", "newyork", "overlap"],
      "_comment": "Trade during liquid market sessions"
    }
  },
  "risk_management": {
    "mode": "fixed_dollar_risk",
    "fixed_risk_amount": 50.0,
    "risk_calculation_method": "pip_based",
    "stop_loss_method": "atr_based",
    "atr_multiplier": 1.5,
    "maximum_sl_pips": 50,
    "risk_reward_ratio": 3.0,
    "trailing_stop": {
      "enabled": true,
      "activation_pips": 20,
      "trail_distance_pips": 15
    },
    "breakeven": {
      "enabled": true,
      "activation_pips": 15
    },
    "position_sizing": {
      "method": "fixed_risk",
      "risk_per_trade_usd": 50.0,
      "max_position_size": 1.0,
      "use_kelly_criterion": false,
      "margin_safety_factor": 0.95
    },
    "daily_limits": {
      "max_daily_loss_usd": 150.0,
      "max_consecutive_losses": 3,
      "pause_after_losses": true,
      "max_daily_trades": 10
    },
    "advanced_risk": {
      "enabled": true,
      "var_confidence_levels": [
        0.95,
        0.99,
        0.999
      ],
      "max_portfolio_var": 0.05,
      "max_correlation": 0.7,
      "risk_free_rate": 0.02,
      "min_sharpe_ratio": 0.5,
      "max_drawdown_limit": 0.2,
      "stress_test_scenarios": {
        "mild_stress": {
          "volatility_multiplier": 1.5,
          "correlation_shift": 0.2
        },
        "severe_stress": {
          "volatility_multiplier": 2.0,
          "correlation_shift": 0.4
        },
        "extreme_stress": {
          "volatility_multiplier": 3.0,
          "correlation_shift": 0.6
        }
      },
      "risk_parity": {
        "enabled": true,
        "rebalance_threshold": 0.05
      }
    },
    "anomaly_detection": {
      "enabled": true,
      "z_score_threshold": 3.0,
      "iqr_multiplier": 1.5,
      "mad_threshold": 3.5,
      "isolation_forest_contamination": 0.1,
      "ocsvm_nu": 0.1,
      "short_window": 20,
      "medium_window": 50,
      "long_window": 200,
      "max_anomaly_severity": 8.0,
      "halt_trading_threshold": 8.0,
      "reduce_position_threshold": 5.0,
      "increase_stops_threshold": 3.0
    }
  },
  "indicators": {
    "vwap_period": 20,
    "ema_period": 20,
    "rsi_period": 14,
    "atr_period": 14,
    "use_support_resistance": true,
    "volume_analysis": true
  },
  "fundamental": {
    "myfxbook": {
      "enabled": true,
      "url": "https://www.myfxbook.com",
      "weight": 0.25,
      "update_interval": 300
    },
    "fxstreet": {
      "enabled": true,
      "url": "https://www.fxstreet.com",
      "weight": 0.25,
      "update_interval": 300
    },
    "fxblue": {
      "enabled": true,
      "url": "https://www.fxblue.com",
      "weight": 0.2,
      "update_interval": 300
    },
    "investing": {
      "enabled": true,
      "url": "https://www.investing.com",
      "weight": 0.2,
      "update_interval": 300
    },
    "forexclientsentiment": {
      "enabled": true,
      "url": "https://www.forexclientsentiment.com",
      "weight": 0.1,
      "update_interval": 600
    }
  },
  "ml": {
    "enabled": true,
    "adaptive_learning": true,
    "models": {
      "xgboost": {
        "enabled": true,
        "retrain_interval": 86400,
        "min_data_points": 1000,
        "max_depth": 6,
        "learning_rate": 0.1,
        "n_estimators": 100
      },
      "random_forest": {
        "enabled": true,
        "retrain_interval": 86400,
        "min_data_points": 1000,
        "n_estimators": 100,
        "max_depth": 10
      },
      "lstm": {
        "enabled": true,
        "retrain_interval": 172800,
        "min_data_points": 2000,
        "sequence_length": 50,
        "hidden_units": 64
      }
    },
    "ensemble_method": "weighted_average",
    "min_accuracy": 0.65,
    "backtest_period": 365,
    "walk_forward_window": 30,
    "retrain_interval_hours": 24,
    "min_trades_for_update": 50,
    "performance_window_days": 30,
    "adaptation_rate": 0.1,
    "immediate_learning_threshold": 5.0,
    "ensemble": {
      "enabled": true,
      "voting_method": "soft",
      "models": [
        "random_forest",
        "gradient_boosting",
        "xgboost",
        "lightgbm",
        "mlp"
      ]
    }
  },
  "adaptive_learning": {
    "enabled": true,
    "parameter_optimization": {
      "enabled": true,
      "interval_hours": 12,
      "method": "grid_search",
      "parameters": {
        "rsi_oversold": {
          "min": 20,
          "max": 40,
          "step": 5
        },
        "rsi_overbought": {
          "min": 60,
          "max": 80,
          "step": 5
        },
        "min_signal_strength": {
          "min": 0.5,
          "max": 0.8,
          "step": 0.05
        },
        "trailing_stop_distance": {
          "min": 15,
          "max": 30,
          "step": 5
        },
        "risk_multiplier": {
          "min": 0.8,
          "max": 1.5,
          "step": 0.1
        }
      }
    },
    "signal_weight_adjustment": {
      "enabled": true,
      "interval_hours": 4,
      "min_correlation": 0.1,
      "adaptation_speed": 0.1
    },
    "pattern_recognition": {
      "enabled": true,
      "min_pattern_occurrences": 10,
      "confidence_threshold": 0.7
    },
    "temporal_analysis": {
      "enabled": true,
      "confidence_threshold": 0.6,
      "min_trades_required": 20,
      "timeframes": {
        "daily": true,
        "weekly": true,
        "monthly": true,
        "yearly": true
      },
      "performance_weights": {
        "win_rate_weight": 0.4,
        "sharpe_ratio_weight": 0.4,
        "max_drawdown_weight": 0.2
      }
    },
    "market_regime": {
      "enabled": true,
      "adaptation_strength": 0.3,
      "history_length": 100,
      "regime_adx_trending": 25,
      "regime_adx_strong": 40,
      "regime_vol_high": 1.5,
      "regime_vol_low": 0.7,
      "regime_bull_threshold": 0.02,
      "regime_bear_threshold": -0.02,
      "regime_ma_short": 20,
      "regime_ma_medium": 50,
      "regime_ma_long": 200
    },
    "performance_thresholds": {
      "trigger_optimization": 0.55,
      "trigger_retraining": 0.6,
      "minimum_sharpe": 0.5,
      "maximum_drawdown": 0.2
    }
  },
  "reinforcement_learning": {
    "enabled": true,
    "learning_rate": 0.1,
    "discount_factor": 0.95,
    "epsilon_start": 1.0,
    "epsilon_end": 0.01,
    "epsilon_decay": 0.995,
    "state_bins": {
      "rsi_bins": 10,
      "adx_bins": 8,
      "volatility_bins": 6,
      "trend_bins": 5,
      "regime_bins": 4
    },
    "reward_function": {
      "profit_weight": 1.0,
      "risk_weight": 0.5,
      "timing_weight": 0.3,
      "regime_weight": 0.2
    },
    "training": {
      "min_experiences": 1000,
      "batch_size": 32,
      "save_interval": 1000,
      "max_episodes": 10000
    },
    "actions": [
      "hold",
      "buy",
      "sell",
      "close_position"
    ],
    "state_features": [
      "rsi",
      "adx",
      "volatility_ratio",
      "trend_strength",
      "market_regime",
      "signal_strength",
      "position_status"
    ]
  },
  "advanced_feature_engineering": {
    "enabled": true,
    "categories": [
      "technical",
      "statistical",
      "time_series",
      "domain_specific",
      "interactions"
    ],
    "technical_params": {
      "rsi_periods": [
        7,
        14,
        21
      ],
      "macd_params": [
        [
          12,
          26,
          9
        ],
        [
          8,
          21,
          5
        ]
      ],
      "bb_periods": [
        20,
        30
      ],
      "bb_std": [
        2.0,
        2.5
      ],
      "stoch_params": [
        [
          14,
          3,
          3
        ],
        [
          21,
          5,
          5
        ]
      ],
      "williams_r_periods": [
        14,
        21
      ],
      "cci_periods": [
        14,
        20
      ],
      "mfi_periods": [
        14,
        21
      ],
      "adx_periods": [
        14,
        21
      ],
      "atr_periods": [
        14,
        21
      ],
      "ema_periods": [
        9,
        21,
        50,
        200
      ],
      "sma_periods": [
        10,
        20,
        50,
        100
      ]
    },
    "statistical_params": {
      "rolling_windows": [
        5,
        10,
        20,
        50
      ],
      "percentile_periods": [
        10,
        20
      ],
      "zscore_windows": [
        20,
        50
      ],
      "skewness_windows": [
        20,
        50
      ],
      "kurtosis_windows": [
        20,
        50
      ]
    },
    "domain_params": {
      "session_weights": {
        "london": 1.2,
        "new_york": 1.1,
        "tokyo": 1.0,
        "sydney": 0.9
      },
      "currency_pairs": [
        "EURUSD",
        "GBPUSD",
        "USDJPY",
        "AUDUSD",
        "USDCAD"
      ],
      "volatility_thresholds": [
        0.5,
        1.0,
        1.5,
        2.0
      ]
    },
    "selection_params": {
      "method": "mutual_info",
      "k_features": 50,
      "correlation_threshold": 0.95
    }
  },
  "system_health_monitoring": {
    "enabled": true,
    "monitoring_interval": 30,
    "metrics_history_size": 1000,
    "alert_cooldown": 300,
    "thresholds": {
      "memory_warning": 80.0,
      "memory_critical": 90.0,
      "cpu_warning": 70.0,
      "cpu_critical": 85.0,
      "disk_warning": 85.0,
      "disk_critical": 95.0,
      "api_response_warning": 5.0,
      "api_response_critical": 10.0,
      "error_rate_warning": 0.1,
      "error_rate_critical": 0.25,
      "max_consecutive_failures": 5
    }
  },
  "notifications": {
    "enabled": false,
    "email": "",
    "telegram_token": "",
    "telegram_chat_id": "",
    "notify_on_trade": true,
    "notify_on_learning": true,
    "notify_on_error": true
  },
  "logging": {
    "level": "INFO",
    "console_level": "WARNING",
    "file": "logs/FX-Ai",
    "rotation_type": "time",
    "file_rotation": true,
    "max_file_size": 10485760,
    "backup_count": 5,
    "log_trades": true,
    "log_learning": true,
    "log_performance": true,
    "log_calculations": false,
    "_comment": "level: DEBUG/INFO/WARNING/ERROR, console_level for terminal output"
  }
}