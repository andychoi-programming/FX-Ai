WEEKEND COMPREHENSIVE OPTIMIZATION - EXECUTION PLAN
=====================================================
Generated: 2025-01-31
Training Period: 3 Years (2022-10-31 to 2025-10-31)
Validation Periods: 3 months + 1 month (Aug-Oct 2025)

PARAMETER CONFIGURATION
-----------------------
Total Combinations per Symbol: 832 valid (1,024 total, filtered to 1:3 R/R minimum)

Parameter Ranges (Forex/JPY):
- SL: [15, 20, 25, 30] pips (4 options)
- TP: [60, 75, 90, 120] pips (4 options) → enforces 1:3+ R/R
- Breakeven Trigger: [15, 25] pips (2 options: tight vs loose)
- Trailing Activation: [20, 25] pips (2 options)
- Trailing Distance: [10, 15] pips (2 options)
- Entry Hour Start: [6, 8] MT5 time (2 options: early vs normal)
- Entry Hour End: [16, 18] MT5 time (2 options)
- Max Holding: [6, 12] hours (2 options: short vs medium)
- Monday Entry Delay: [10] hours (1 option: skip Monday AM volatility)
- Friday Early Exit: [20] MT5 time (1 option: exit by 8PM)
- Hard Close Hour: [22] → closes all at 22:30 MT5 time
- Best Entry Days: Tuesday-Friday only (1 option: skip Monday)

Parameter Ranges (Metals - XAGUSD/XAUUSD):
- SL: [300, 500, 700, 1000] pips (4 options)
- TP: [1200, 1500, 2100, 3000] pips (4 options) → 1:3+ R/R
- Breakeven Trigger: [300, 700] pips (2 options)
- Trailing Activation: [500, 700] pips (2 options)
- Trailing Distance: [300, 500] pips (2 options)
- Entry Hour Start: [6, 8] MT5 time (2 options)
- Entry Hour End: [16, 18] MT5 time (2 options)
- Max Holding: [4, 8] hours (2 options: faster moves)
- Other settings same as Forex

COVERAGE ANALYSIS
-----------------
✓ Risk/Reward Profiles: 4×4 = 16 SL/TP combinations
✓ Breakeven Strategy: 2 options (tight 15/25 vs loose trigger)
✓ Trailing Strategy: 2×2 = 4 combinations (activation × distance)
✓ Entry Time Windows: 2×2 = 4 daily schedules
✓ Holding Duration: 2 options (short 6h vs medium 12h)
✓ Weekly Schedule: Tuesday-Friday trading (skip Monday volatility)
✓ MT5 Time Alignment: All times in broker platform time
✓ Hard Close: Mandatory 22:30 exit (no overnight holds)

TIME ESTIMATES
--------------
Conservative Estimate (0.25 sec per combination):
  Per Symbol: 832 combos × 0.25s = 3.5 minutes
  Total (30 symbols): 104 minutes = 1.7 hours

Realistic Estimate (0.3 sec per combination with overhead):
  Per Symbol: 832 combos × 0.3s = 4.2 minutes
  Total (30 symbols): 125 minutes = 2.1 hours

SYMBOLS TO OPTIMIZE (30 total)
-------------------------------
Forex Major (8): EURUSD, GBPUSD, USDCHF, AUDUSD, NZDUSD, USDCAD, EURAUD, GBPAUD
Forex JPY (3): USDJPY, EURJPY, GBPJPY
Forex Cross (17): EURGBP, EURAUD, EURNZD, GBPAUD, GBPNZD, AUDNZD, AUDCAD, 
                   NZDCAD, CADCHF, AUDCHF, NZDCHF, GBPCAD, GBPCHF, EURCAD, 
                   EURCHF, NZDJPY, AUDJPY
Metals (2): XAGUSD, XAUUSD

MT5 PLATFORM TIME FEATURES
---------------------------
1. Hard Close at 22:30: All positions forcibly closed at 22:30 MT5 time
   - Checked BEFORE other exit logic (highest priority)
   - Minute-level precision: exits if hour==22 AND minute>=30
   - Prevents overnight holds and weekend gap risk

2. Time-Based Entry Filters:
   - Entry windows: 6-16, 6-18, 8-16, 8-18 (MT5 time)
   - Monday delay: No entries until 10:00 on Monday
   - Friday early exit: Close positions by 20:00 (8PM MT5)
   - Best days: Tuesday-Friday (skip Monday volatility)

3. Position Management:
   - Breakeven: Moves SL to entry when profit reaches trigger
   - Trailing Stop: Trails price at specified distance, locks gains
   - Max Holding: Closes position after 6 or 12 hours
   - All checks respect MT5 platform time

BACKTEST FEATURES VALIDATED
----------------------------
✓ Stop Loss: Initial risk level per combination
✓ Take Profit: Target based on 1:3+ R/R ratio
✓ Breakeven Trigger: Moves SL to breakeven when triggered
✓ Trailing Stop: Activation threshold + trailing distance
✓ Entry Hour Filters: Start/end hours for entries
✓ Exit Hour Filters: Friday early exit + 22:30 hard close
✓ Max Holding Duration: Force close after max hours
✓ Monday Entry Delay: Skip Monday morning volatility
✓ Best Entry Days: Limit trading to specific weekdays
✓ MT5 Time Logic: All timestamps in broker platform time

OUTPUT FILES
------------
1. optimal_parameters.json: Best parameters for each symbol
   Format per symbol:
   {
     "symbol": "EURUSD",
     "sl_pips": 20,
     "tp_pips": 80,
     "breakeven_trigger": 25,
     "trailing_activation": 25,
     "trailing_distance": 15,
     "entry_hour_start": 8,
     "entry_hour_end": 18,
     "max_holding_hours": 12,
     "monday_entry_delay": 10,
     "friday_early_exit": 20,
     "hard_close_hour": 22,
     "best_entry_days": ["Tuesday", "Wednesday", "Thursday", "Friday"],
     "training_metrics": {...},
     "validation_3m_metrics": {...},
     "validation_1m_metrics": {...}
   }

2. optimization_log_TIMESTAMP.txt: Detailed backtest logs
   - All combinations tested per symbol
   - Performance metrics for each parameter set
   - Best parameters selection reasoning

EXECUTION COMMANDS
------------------
1. Run Weekend Optimization:
   python optimize_fast_3year.py

2. Monitor Progress (separate terminal):
   python show_optimization_progress.py

3. Quick Status Check:
   python check_status.py

NEXT STEPS AFTER COMPLETION
----------------------------
1. Review optimal_parameters.json for all 30 symbols
2. Verify 1:3+ R/R ratio maintained
3. Check validation metrics (3-month and 1-month periods)
4. Optional: Retrain models with 3-year data using new parameters
5. Deploy to live trading with MT5 time-based logic

OPTIMIZATION PHILOSOPHY
-----------------------
This configuration balances:
- Comprehensive coverage: 832 combinations test wide parameter space
- Weekend feasibility: ~2 hours total execution time
- Practical trading: MT5 time alignment, 22:30 hard close, no Monday AM
- Risk management: Enforced 1:3+ R/R ratio, breakeven protection
- Profit capture: Trailing stops lock in gains during big moves

RISK CONTROLS
--------------
✓ Minimum 1:3 Risk/Reward enforced (filters 192 invalid combinations)
✓ Breakeven moves SL to entry → prevents profit → loss trades
✓ Trailing stop locks gains → captures extended moves
✓ Hard close at 22:30 → no overnight/weekend risk
✓ Monday delay → avoids weekend gap volatility
✓ Friday exit → closes before weekend

READY TO EXECUTE ✓
